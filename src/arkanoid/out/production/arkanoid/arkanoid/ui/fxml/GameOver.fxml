<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.geometry.Insets?>

<StackPane prefHeight="600" prefWidth="800"
           style="-fx-background-color: linear-gradient(to bottom, #0f172a, #1e1b4b, #312e81);"
           stylesheets="@../css/style.css"
           xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="arkanoid.ui.controller.GameOverController">

    <!-- Decorative corner elements - MOUSE TRANSPARENT -->
    <StackPane mouseTransparent="true">
        <VBox alignment="TOP_LEFT" style="-fx-padding: 20;" mouseTransparent="true">
            <Label text="ðŸ’«" style="-fx-font-size: 32px; -fx-opacity: 0.6;" mouseTransparent="true"/>
        </VBox>
        <VBox alignment="TOP_RIGHT" style="-fx-padding: 20;" mouseTransparent="true">
            <Label text="âœ¨" style="-fx-font-size: 32px; -fx-opacity: 0.6;" mouseTransparent="true"/>
        </VBox>
        <VBox alignment="BOTTOM_LEFT" style="-fx-padding: 20;" mouseTransparent="true">
            <Label text="ðŸŒŸ" style="-fx-font-size: 32px; -fx-opacity: 0.6;" mouseTransparent="true"/>
        </VBox>
        <VBox alignment="BOTTOM_RIGHT" style="-fx-padding: 20;" mouseTransparent="true">
            <Label text="â­" style="-fx-font-size: 32px; -fx-opacity: 0.6;" mouseTransparent="true"/>
        </VBox>
    </StackPane>

    <!-- Main Content - CLICKABLE -->
    <VBox alignment="CENTER" spacing="32" style="-fx-padding: 40;">

        <!-- Spacer for better centering -->
        <VBox prefHeight="20"/>

        <!-- GAME OVER Title with Galaxy Glow -->
        <VBox alignment="CENTER" spacing="8" mouseTransparent="true">
            <Label text="ðŸŒŒ"
                   style="-fx-font-size: 64px;" mouseTransparent="true"/>
            <Label text="GAME OVER"
                   style="-fx-font-size: 82px;
                        -fx-font-weight: bold;
                        -fx-text-fill: linear-gradient(to right, #ef4444, #f97316, #fbbf24, #f97316, #ef4444);
                        -fx-effect: dropshadow(gaussian, rgba(239, 68, 68, 0.9), 30, 0.8, 0, 0);"
                   mouseTransparent="true"/>
            <Label text="Mission Failed"
                   style="-fx-font-size: 18px;
                        -fx-text-fill: #8b93a5;
                        -fx-font-style: italic;
                        -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 5, 0.5, 0, 0);"
                   mouseTransparent="true"/>
        </VBox>

        <!-- Stats Container with Enhanced Galaxy Card -->
        <StackPane mouseTransparent="true">
            <!-- Outer glow ring -->
            <VBox alignment="CENTER" spacing="0"
                  style="-fx-background-color: linear-gradient(to bottom right, rgba(6, 182, 212, 0.15), rgba(167, 139, 250, 0.15));
                       -fx-padding: 3;
                       -fx-background-radius: 16;
                       -fx-effect: dropshadow(gaussian, rgba(6, 182, 212, 0.6), 25, 0.6, 0, 0);"
                  mouseTransparent="true"/>

            <!-- Main stats card -->
            <VBox alignment="CENTER" spacing="18"
                  style="-fx-background-color: linear-gradient(to bottom right, rgba(30, 41, 59, 0.85), rgba(15, 23, 42, 0.95));
                       -fx-padding: 32 48;
                       -fx-background-radius: 14;
                       -fx-border-color: linear-gradient(to right, #06b6d4, #a78bfa, #ec4899);
                       -fx-border-width: 2.5;
                       -fx-border-radius: 14;"
                  mouseTransparent="true">

                <!-- Score Section -->
                <VBox alignment="CENTER" spacing="6" mouseTransparent="true">
                    <Label text="FINAL SCORE"
                           style="-fx-font-size: 16px;
                                -fx-font-weight: bold;
                                -fx-text-fill: #06b6d4;
                                -fx-letter-spacing: 2px;"
                           mouseTransparent="true"/>
                    <HBox alignment="CENTER" spacing="8" mouseTransparent="true">
                        <Label text="â­" style="-fx-font-size: 28px;" mouseTransparent="true"/>
                        <Label fx:id="lblScore" text="0"
                               style="-fx-font-size: 52px;
                                    -fx-font-weight: bold;
                                    -fx-text-fill: linear-gradient(to right, #06b6d4, #22d3ee);
                                    -fx-effect: dropshadow(gaussian, rgba(6, 182, 212, 0.8), 15, 0.7, 0, 0);"
                               mouseTransparent="true"/>
                        <Label text="â­" style="-fx-font-size: 28px;" mouseTransparent="true"/>
                    </HBox>
                </VBox>

                <!-- Divider Line -->
                <VBox prefHeight="2" prefWidth="280"
                      style="-fx-background-color: linear-gradient(to right, transparent, #a78bfa, transparent);
                           -fx-effect: dropshadow(gaussian, rgba(167, 139, 250, 0.6), 8, 0.5, 0, 0);"
                      mouseTransparent="true"/>

                <!-- Level Section -->
                <VBox alignment="CENTER" spacing="6" mouseTransparent="true">
                    <Label text="LEVEL REACHED"
                           style="-fx-font-size: 16px;
                                -fx-font-weight: bold;
                                -fx-text-fill: #a78bfa;
                                -fx-letter-spacing: 2px;"
                           mouseTransparent="true"/>
                    <HBox alignment="CENTER" spacing="8" mouseTransparent="true">
                        <Label text="ðŸš€" style="-fx-font-size: 26px;" mouseTransparent="true"/>
                        <Label fx:id="lblLevel" text="1"
                               style="-fx-font-size: 44px;
                                    -fx-font-weight: bold;
                                    -fx-text-fill: linear-gradient(to right, #a78bfa, #c4b5fd);
                                    -fx-effect: dropshadow(gaussian, rgba(167, 139, 250, 0.8), 15, 0.7, 0, 0);"
                               mouseTransparent="true"/>
                        <Label text="ðŸš€" style="-fx-font-size: 26px;" mouseTransparent="true"/>
                    </HBox>
                </VBox>

            </VBox>
        </StackPane>

        <!-- Buttons with Galaxy Style - PICKABLE -->
        <VBox alignment="CENTER" spacing="16" pickOnBounds="false">
            <HBox alignment="CENTER" spacing="24" pickOnBounds="false">
                <Button fx:id="btnRestart" prefHeight="56" prefWidth="200"
                        styleClass="button-main"
                        text="ðŸ”„ Play Again"
                        style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <Button fx:id="btnBack" prefHeight="56" prefWidth="200"
                        styleClass="button-alt"
                        text="ðŸ  Main Menu"
                        style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            </HBox>

            <!-- Hint text -->
            <Label text="Press R to restart â€¢ ESC for menu"
                   style="-fx-font-size: 13px;
                        -fx-text-fill: #64748b;
                        -fx-font-style: italic;"
                   mouseTransparent="true"/>
        </VBox>

        <!-- Spacer -->
        <VBox prefHeight="20"/>

    </VBox>

</StackPane>